(this.webpackJsonphandpose=this.webpackJsonphandpose||[]).push([[0],{193:function(e,t,n){},255:function(e,t,n){e.exports=n(290)},260:function(e,t,n){},266:function(e,t){},267:function(e,t){},275:function(e,t){},278:function(e,t){},279:function(e,t){},290:function(e,t,n){"use strict";n.r(t);var r=n(35),a=n.n(r),c=n(233),l=n.n(c),i=(n(260),n(5)),u=n(10),o=n(14),s=n(13),f=(n(193),n(4)),h=n.n(f),d=n(11),p=(n(289),n(253)),m=n(254),v=n.n(m),b=n(6),g=function(e,t){e.forEach((function(e){var n=Object(b.a)(e.bbox,4),r=n[0],a=n[1],c=n[2],l=n[3],i=e.class;t.strokeStyle="#4411FF",t.font="18px Arial",t.lineWidth="4",t.beginPath(),t.fillStyle="#4411FF",t.fillText(i,r,a),t.rect(r,a,c,l),t.stroke()}))};var E=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null),c=function(){var e=Object(d.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.load();case 2:t=e.sent,console.log("coco model loaded."),setInterval((function(){l(t)}),10);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var r=Object(d.a)(h.a.mark((function r(a){var c,l,i,u,o;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"===typeof t.current||null===t.current||4!==t.current.video.readyState){r.next=14;break}return c=t.current.video,l=t.current.video.videoWidth,i=t.current.video.videoHeight,t.current.video.width=l,t.current.video.height=i,n.current.width=l,n.current.height=i,r.next=10,a.detect(c);case 10:u=r.sent,o=n.current.getContext("2d"),g(u,o),s=u,e.parentCallback(s);case 14:case"end":return r.stop()}var s}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){c()}),[]),a.a.createElement("div",null,a.a.createElement("h2",null,"WEBCAM"),a.a.createElement("div",null,a.a.createElement(v.a,{ref:t,muted:!0,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:640,height:480}}),a.a.createElement("canvas",{ref:n,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:8,width:640,height:480}})))},x=n(41),O=n(58),j=(r.Component,function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.detections,t=e.map((function(e){return e.class})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(t){return{name:t,count:e.filter((function(e){return e.class===t})).length}})),n=e.filter((function(e){return"tv"===e.class})).length,r=e.filter((function(e){return"laptop"===e.class})).length,c=e.filter((function(e){return"cell phone"===e.class})).length,l=e.filter((function(e){return"person"===e.class})).length;return a.a.createElement("div",null,a.a.createElement("h2",null,"DATAVIS"),a.a.createElement("div",null,a.a.createElement("h3",null,"Detected Stuff"),t.map((function(e,t){return a.a.createElement("p",null,e.name," : ",e.count)}))),a.a.createElement("div",null,a.a.createElement("h3",null,"Cool Values"),"Screen Per Personne :",(n+r+c)/Math.max(l,1)))}}]),n}(r.Component)),k=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={detections:[]},e.callbackSetDetections=function(t){e.setState({detections:t})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.detections;return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"SWEET DAWN"),a.a.createElement(j,{detections:e}),a.a.createElement(E,{parentCallback:this.callbackSetDetections})))}}]),n}(r.Component);l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(k,null)),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.c883d5b1.chunk.js.map
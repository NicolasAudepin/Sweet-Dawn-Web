(this.webpackJsonphandpose=this.webpackJsonphandpose||[]).push([[0],{193:function(e,t,n){},255:function(e,t,n){e.exports=n(290)},260:function(e,t,n){},266:function(e,t){},267:function(e,t){},275:function(e,t){},278:function(e,t){},279:function(e,t){},290:function(e,t,n){"use strict";n.r(t);var a=n(35),u=n.n(a),r=n(233),l=n.n(r),o=(n(260),n(5)),c=n(10),i=n(14),s=n(13),d=(n(193),n(4)),p=n.n(d),f=n(11),h=(n(289),n(253)),m=n(254),v=n.n(m),g=n(6),b=function(e,t){e.forEach((function(e){var n=Object(g.a)(e.bbox,4),a=n[0],u=n[1],r=n[2],l=n[3],o=e.class;t.strokeStyle="#4411FF",t.font="18px Arial",t.lineWidth="4",t.beginPath(),t.fillStyle="#4411FF",t.fillText(o,a,u),t.rect(a,u,r,l),t.stroke()}))};var E=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.load();case 2:t=e.sent,console.log("coco model loaded."),setInterval((function(){l(t)}),10);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var a=Object(f.a)(p.a.mark((function a(u){var r,l,o,c,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("undefined"===typeof t.current||null===t.current||4!==t.current.video.readyState){a.next=14;break}return r=t.current.video,l=t.current.video.videoWidth,o=t.current.video.videoHeight,t.current.video.width=l,t.current.video.height=o,n.current.width=l,n.current.height=o,a.next=10,u.detect(r);case 10:c=a.sent,i=n.current.getContext("2d"),b(c,i),s=c,e.parentCallback(s);case 14:case"end":return a.stop()}var s}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),[]),u.a.createElement("div",null,u.a.createElement("h2",null,"WEBCAM"),u.a.createElement("div",null,u.a.createElement(v.a,{ref:t,muted:!0,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:640,height:480}}),u.a.createElement("canvas",{ref:n,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:8,width:640,height:480}})))},O=n(41),j=n(58),y=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).Sendnotes=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e){console.log("NOTE"),e.playNote("G4","all",{velocity:1}).stopNote("G4","all",{time:400})},console.log("seeend noootes"),setInterval((function(){null===t?console.log("outnuuuulll"):n(t)}),500);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log("misi out constructor"),a.state={inputs:[],outputs:[],currentOutput:null},a.SetupMidi=a.SetupMidi.bind(Object(O.a)(a)),a.HandleInChange=a.HandleInChange.bind(Object(O.a)(a)),a.HandleOutChange=a.HandleOutChange.bind(Object(O.a)(a)),a.Sendnotes=a.Sendnotes.bind(Object(O.a)(a)),a.SetupMidi(),a}return Object(c.a)(n,[{key:"SetupMidi",value:function(){var e=this,t=[],n=[];j.enable((function(e){e?console.log("WebMidi could not be enabled.",e):(console.log("WebMidi enabled!"),console.log(j.inputs),console.log(j.outputs),console.log(j.outputs.length),j.inputs.map((function(e,t){return n.push(u.a.createElement("option",{value:j.inputs[t].name},j.inputs[t].name))})),j.outputs.map((function(e,n){return t.push(u.a.createElement("option",{value:j.outputs[n].name},j.outputs[n].name))})),j.outputs.map((function(e,t){return console.log(j.outputs[t])})),j.outputs.map((function(e,t){return console.log(j.outputs[t].name)})))})),setTimeout((function(){e.setState({outputs:t,inputs:n})}),3e3)}},{key:"HandleInChange",value:function(e){var t=e.target.value;document.getElementById("demo").innerHTML="You selected: "+t}},{key:"HandleOutChange",value:function(e){var t=this,n=e.target.value;document.getElementById("demo").innerHTML="You selected: "+n;var a=j.getOutputByName(n);console.log("new midi out"),console.log(a),setTimeout((function(){t.setState({currentOutput:a})}),3e3),this.Sendnotes(a)}},{key:"render",value:function(){var e=this.state,t=e.inputs,n=e.outputs;return u.a.createElement("div",null,u.a.createElement("p",null,"MIDI"),u.a.createElement("div",null,u.a.createElement("div",null,"Input",u.a.createElement("select",{id:"selectInput",onChange:this.HandleInChange},t)),u.a.createElement("div",null,"Output",u.a.createElement("select",{id:"selectOutput",onChange:this.HandleOutChange},n)),u.a.createElement("p",{id:"demo"})),u.a.createElement("div",null,u.a.createElement("p",null," There Are Things on screen")))}}]),n}(a.Component),S=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.detections,t=e.map((function(e){return e.class})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(t){return{name:t,count:e.filter((function(e){return e.class===t})).length}})),n=e.filter((function(e){return"tv"===e.class})).length,a=e.filter((function(e){return"laptop"===e.class})).length,r=e.filter((function(e){return"cell phone"===e.class})).length,l=e.filter((function(e){return"person"===e.class})).length;return u.a.createElement("div",null,u.a.createElement("h2",null,"DATAVIS"),u.a.createElement("div",null,u.a.createElement("h3",null,"Detected Stuff"),t.map((function(e,t){return u.a.createElement("p",null,e.name," : ",e.count)}))),u.a.createElement("div",null,u.a.createElement("h3",null,"Cool Values"),"Screen Per Personne :",(n+a+r)/Math.max(l,1)))}}]),n}(a.Component),k=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,u=new Array(a),r=0;r<a;r++)u[r]=arguments[r];return(e=t.call.apply(t,[this].concat(u))).state={detections:[]},e.callbackSetDetections=function(t){e.setState({detections:t})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.detections;return u.a.createElement("div",{className:"App"},u.a.createElement("header",{className:"App-header"},u.a.createElement("h1",null,"SWEET DAWN"),u.a.createElement(y,null),u.a.createElement(S,{detections:e}),u.a.createElement(E,{parentCallback:this.callbackSetDetections})))}}]),n}(a.Component);l.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(k,null)),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.2dbc012a.chunk.js.map